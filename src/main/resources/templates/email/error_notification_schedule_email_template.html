<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>KTMS Error Notification</title>
</head>
<body style="height: 100%;margin: 0;line-height: 1.4;background-color: #F2F4F6;color: #74787E;-webkit-text-size-adjust: none;font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif;box-sizing: border-box;width: 100% !important;">
<table class="email-wrapper" width="100%" cellpadding="0" cellspacing="0" style="width: 100%;margin: 0;padding: 0;-premailer-width: 100%;-premailer-cellpadding: 0;-premailer-cellspacing: 0;background-color: #F2F4F6;font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif;box-sizing: border-box;">
    <tr>
        <td align="center" style="word-break: break-word;font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif;box-sizing: border-box;">
            <table class="email-content" width="100%" cellpadding="0" cellspacing="0" style="width: 100%;margin: 0;padding: 0;-premailer-width: 100%;-premailer-cellpadding: 0;-premailer-cellspacing: 0;font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif;box-sizing: border-box;">
                <tr>
                    <td class="email-body" width="100%" cellpadding="0" cellspacing="0" style="word-break: break-word;padding: 0;-premailer-width: 100%;-premailer-cellpadding: 0;-premailer-cellspacing: 0;border-top: 1px solid #EDEFF2;border-bottom: 1px solid #EDEFF2;background-color: #FFFFFF;font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif;box-sizing: border-box;">
                        <table class="email-body_inner" cellpadding="0" cellspacing="0" style="padding: 0;-premailer-cellpadding: 0;-premailer-cellspacing: 0;background-color: #FFFFFF;font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif;box-sizing: border-box;">
                            <tr>
                                <td class="content-cell" style="word-break: break-word;padding: 35px;font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif;box-sizing: border-box;">
                                    <p style="line-height: 1.5em;text-align: left;margin-top: 0;color: #74787E;font-size: 16px;font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif;box-sizing: border-box;">Dear user,</p>
                                    <p style="line-height: 1.5em;text-align: left;margin-top: 0;color: #74787E;font-size: 16px;font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif;box-sizing: border-box;">Following errors are encountered in KTMS while running scheduled exception definitions.</p>

                                    <table th:each="expDefRunError: ${expDefRunErrors}" class="attributes" width="100%" cellpadding="0" cellspacing="0" style="margin: 0 0 10px;font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif;box-sizing: border-box;">
                                        <tr>
                                            <td class="attributes_content" style="word-break: break-word;background-color: #EDEFF2;padding: 10px;font-size: 12px;font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif;box-sizing: border-box;">
                                                <table width="100%" cellpadding="0" cellspacing="0" style="font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif;box-sizing: border-box;">
                                                    <tr>
                                                        <td class="attributes_item" style="word-break: break-word;padding: 2px 0;font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif;box-sizing: border-box;">
                                                            <strong>Exception Definition:</strong> <span th:text="${expDefRunError.exceptionDefinitionRun.name}"></span>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="attributes_item" style="word-break: break-word;padding: 2px 0;font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif;box-sizing: border-box;">
                                                            <strong>Category:</strong> <span th:text="${expDefRunError.exceptionDefinitionRun.category.name}"></span>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="attributes_item" style="word-break: break-word;padding: 2px 0;font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif;box-sizing: border-box;">
                                                            <strong>Frequency:</strong> <span th:text="${expDefRunError.exceptionDefinitionRun.exceptionSchedule.scheduleFrequency}"></span>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="attributes_item" style="word-break: break-word;padding: 2px 0;font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif;box-sizing: border-box;">
                                                            <strong>Error:</strong> <span th:text="${#strings.arraySplit(expDefRunError.stackTrace, T(org.apache.commons.lang.CharUtils).LF)[0]}"></span>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="attributes_item" style="word-break: break-word;padding: 2px 0;font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif;box-sizing: border-box;">
                                                            <strong>Trace:</strong> <span th:text="${expDefRunError.traceId}"></span>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                    </table>

                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>
</body>
</html>